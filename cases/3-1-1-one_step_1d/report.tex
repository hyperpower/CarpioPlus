\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{gnuplottex}

%opening
\title{One step convection in 1D}
\author{Chengsi Zhou}

\begin{document}

\maketitle

\begin{abstract}

\end{abstract}

\section{Problem Description}
\begin{figure}%
\centering%
\begin{gnuplot}[terminal=tikz, terminaloptions={color dashed providevars a,c}]
set key box top left
set key width -0.9
set key height 0.25
set key spacing 1.25
set sample 1000
set grid xtics lt 0 ls 0
set grid ytics lt 0 ls 0
set xr [-5:5]
set yr [-1:1]
set key opaque
set xlabel ’$x$-label’
set ylabel ’$y$-label’
f(x) = a*x+c
fit f(x) "SomeValuesForGnuplot.txt" u ($1*5/7):($2/20) via a,c
plot sin(x) w l lc 2 t ’$\sin(x)$’,\
cos(x) w l lc 4 t ’$\cos(x)$’,\
tan(x) w l lc 6 t ’$\tan(x)$’,\
tanh(x) w l lc 3 t ’$\tanh(x)$’,\
f(x) t ’fitted function’ lc 4,\
"SomeValuesForGnuplot.txt" u ($1*5/7):($2/20) w points lc 5\
t ’example values’
\end{gnuplot}
\caption{This is a simple example using the \texttt{tikz}-terminal.
The slope of the fitted function ($a*x+c$) is $a=$,
while its offset is $c=$.}%
\label{pic:tikz}%
\end{figure}%
\end{document}
